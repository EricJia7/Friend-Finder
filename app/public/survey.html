<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

        <script src="https://code.jquery.com/jquery.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>


        <title>FriendFinder</title>
    </head>

    <body>
        <div class="container">

            <h1 style = "font-family: sans-serif;">Survey Questions</h1>
            <hr class = "my-4">
            <form>
                <h4 class = "font-weight-bold" style = "font-family: sans-serif;"> About You </h4>
                <div class="form-group" style = "font-family: sans-serif;">
                    <label for="nameInput">Name (Required)</label>
                    <input type="text" class="form-control" id="nameInput" placeholder="Type in your name">
                </div>
                <div class="form-group" style = "font-family: sans-serif;">
                    <label for="urlInput">Link to Photo Image (Required)</label>
                    <input type="url" class="form-control" id="urlInput" placeholder="Type in photo url">
                </div>
            </form>
            <hr class = "my-4">

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 1</h4>
            <h6 style = "font-family: sans-serif;">Your mind is always buzzing with unexplored ideas and plans.</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput1">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 2</h4>
            <h6 style = "font-family: sans-serif;">Generally speaking, you rely more on your experience than your imagination.</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput2">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 3</h4>
            <h6 style = "font-family: sans-serif;">You find it easy to stay relaxed and focused even when there is some pressure.</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput3">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 4</h4>
            <h6 style = "font-family: sans-serif;">You rarely do something just out of sheer curiosity.</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput4">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 5</h4>
            <h6 style = "font-family: sans-serif;">People can rarely upset you.</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput5">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 6</h4>
            <h6 style = "font-family: sans-serif;">It is often difficult for you to relate to other people’s feelings.</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput6">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 7</h4>
            <h6 style = "font-family: sans-serif;">In a discussion, truth should be more important than people’s sensitivities.</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput7">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 8</h4>
            <h6 style = "font-family: sans-serif;">You rarely get carried away by fantasies and ideas.</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput8">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 9</h4>
            <h6 style = "font-family: sans-serif;">You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h6>
            <div class="row">
                
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput9">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <h4 class = "font-weight-bold" style = "font-family: sans-serif;">Question 10</h4>
            <h6 style = "font-family: sans-serif;">You feel more energetic after spending time with a group of people.</h6>
            <div class="row">
                <div class="col-md-3">
                    <div class="input-group input-group-lg mb-4">
                        <select class="custom-select custom-select-sm" id="qInput10">
                            <option selected>Select an Option</option>
                            <option value="1">1(Strongly Disagree)</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5(Strongly Agree)</option>
                        </select>
                    </div>
                </div>
            </div>

            <button type="submit" class="btn btn-info btn-lg btn-block" id="submit" style = "font-family: sans-serif;"><i class="fa fa-check-circle" aria-hidden="true"></i>  Submit</button>
            <br>

            <div class="container">
                <div class="row">
                    <div class="col-md-2 text-center" style = "font-family: sans-serif;">
                        <a href = "api/friends" class="text-dark">API Friends List</a>
                    </div>
                    <div class="col-md-2 text-center" style = "font-family: sans-serif;">
                        <a href="https://github.com/jiapurdue/Friend-Finder" class="text-dark">GitHub Repo</a>
                    </div>
                    <div class="col-md-8"></div>
                </div>
            </div>

            
            <br>

        </div>

        <div class="modal fade" id="bestMatchModal" tabindex="-1" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle" style = "font-family: sans-serif;">Here is your friend</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-center text-uppercase" style = "font-family: sans-serif;">
                    <h3 id = 'nameText'></h3>
                    <img id = 'photoUrl' style = "height: auto; width: 80%">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" style = "font-family: sans-serif;">Close</button>
                </div>
                </div>
            </div>
        </div>

    </body>
</html>

<script type="text/javascript">

    $("#submit").click((event) => {
        event.preventDefault();

        let infoInput = {
            name: $('#nameInput').val(),
            photo: $('#urlInput').val().trim(),
            score: [$('#qInput1').val(),$('#qInput2').val(),$('#qInput3').val(),
                    $('#qInput4').val(),$('#qInput5').val(),$('#qInput6').val(),
                    $('#qInput7').val(),$('#qInput8').val(),$('#qInput9').val(),
                    $('#qInput10').val()]
        };
        console.log(infoInput);
        
        $.post("/surve", infoInput)
        .then(function(data) {
            console.log(data)
            $('#nameText').text(data[0]);
            $('#photoUrl').attr('src',data[1]);
            $('#bestMatchModal').modal('show');
        });

    });


</script>
